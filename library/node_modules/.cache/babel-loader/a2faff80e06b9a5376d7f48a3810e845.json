{"ast":null,"code":"var _jsxFileName = \"/home/duska/Desktop/zadatak4/library/src/EditBook.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useBooks } from './context';\nimport Input from '../form/Input';\nimport Authors from '../form/Authors';\nimport Checkbox from '../form/Checkbox';\nimport Select from '../form/Select';\nimport { CATEGORIES } from '../utils/constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditBook = () => {\n  _s();\n\n  const [data, setData] = React.useState({\n    id: 0,\n    title: '',\n    authors: [],\n    genre: '',\n    rating: 0,\n    isbn: '',\n    available: false,\n    publishDate: '',\n    pages: 0\n  });\n  const {\n    selected,\n    updateBook,\n    setEditing\n  } = useBooks();\n  React.useEffect(() => setData(selected), [selected]);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setData(prev => ({ ...prev,\n      [name]: value\n    }));\n  };\n\n  const handleCheckChange = e => {\n    const {\n      name,\n      checked\n    } = e.target;\n    setData(prev => ({ ...prev,\n      [name]: checked\n    }));\n  };\n\n  const handleAddAuthor = name => {\n    if (name === '') return;\n    setData(prev => ({ ...prev,\n      authors: prev.authors.concat([name])\n    }));\n  };\n\n  const handleRemoveAuthor = name => {\n    setData(prev => ({ ...prev,\n      authors: prev.authors.filter(a => a !== name)\n    }));\n  };\n\n  const handleUpdate = async e => {\n    e.preventDefault();\n    await updateBook(data);\n    setEditing(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleUpdate,\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      label: \"Title\",\n      name: \"title\",\n      value: data.title,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Select, {\n      label: \"Genre\",\n      name: \"genre\",\n      value: data.genre,\n      onChange: handleChange,\n      options: CATEGORIES.map(cat => ({\n        value: cat,\n        label: cat\n      }))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      label: \"Pages\",\n      name: \"pages\",\n      type: \"number\",\n      value: data.pages,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      label: \"Publish Date\",\n      name: \"publishDate\",\n      value: data.publishDate,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      label: \"ISBN\",\n      name: \"isbn\",\n      value: data.isbn,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Authors, {\n      label: \"Authors\",\n      name: \"authors\",\n      value: data.authors,\n      onAdd: handleAddAuthor,\n      onRemove: handleRemoveAuthor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      label: \"Rating\",\n      name: \"rating\",\n      type: \"number\",\n      value: data.rating,\n      onChange: handleChange,\n      props: {\n        step: '0.1'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Checkbox, {\n      label: \"Available?\",\n      name: \"available\",\n      value: data.available,\n      onChange: handleCheckChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      type: \"submit\",\n      value: \"Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditBook, \"hf0dclfy9lfy3rIty8NeKcfAHNA=\", false, function () {\n  return [useBooks];\n});\n\n_c = EditBook;\nexport default EditBook;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditBook\");","map":{"version":3,"sources":["/home/duska/Desktop/zadatak4/library/src/EditBook.js"],"names":["React","useBooks","Input","Authors","Checkbox","Select","CATEGORIES","EditBook","data","setData","useState","id","title","authors","genre","rating","isbn","available","publishDate","pages","selected","updateBook","setEditing","useEffect","handleChange","e","name","value","target","prev","handleCheckChange","checked","handleAddAuthor","concat","handleRemoveAuthor","filter","a","handleUpdate","preventDefault","map","cat","label","step"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useBooks } from './context'\nimport Input from '../form/Input'\nimport Authors from '../form/Authors'\nimport Checkbox from '../form/Checkbox'\nimport Select from '../form/Select'\nimport { CATEGORIES } from '../utils/constants'\n\nconst EditBook = () => {\n  const [data, setData] = React.useState({\n    id: 0,\n    title: '',\n    authors: [],\n    genre: '',\n    rating: 0,\n    isbn: '',\n    available: false,\n    publishDate: '',\n    pages: 0\n  })\n\n  const { selected, updateBook, setEditing } = useBooks()\n\n  React.useEffect(() => setData(selected), [selected])\n\n  const handleChange = e => {\n    const { name, value } = e.target\n    setData(prev => ({\n      ...prev,\n      [name]: value\n    }))\n  }\n\n  const handleCheckChange = e => {\n    const { name, checked } = e.target\n    setData(prev => ({\n      ...prev,\n      [name]: checked\n    }))\n  }\n\n  const handleAddAuthor = name => {\n    if (name === '') return\n\n    setData(prev => ({\n      ...prev,\n      authors: prev.authors.concat([name])\n    }))\n  }\n\n  const handleRemoveAuthor = name => {\n    setData(prev => ({\n      ...prev,\n      authors: prev.authors.filter(a => a !== name)\n    }))\n  }\n\n  const handleUpdate = async e => {\n    e.preventDefault()\n    await updateBook(data)\n    setEditing(false)\n  }\n\n  return (\n    <form onSubmit={handleUpdate}>\n      <Input\n        label=\"Title\"\n        name=\"title\"\n        value={data.title}\n        onChange={handleChange}\n        />\n      <Select\n        label=\"Genre\"\n        name=\"genre\"\n        value={data.genre}\n        onChange={handleChange}\n        options={CATEGORIES.map(cat => ({\n          value: cat,\n          label: cat\n        }))}\n        />\n      <Input\n        label=\"Pages\"\n        name=\"pages\"\n        type=\"number\"\n        value={data.pages}\n        onChange={handleChange}\n        />\n      <Input\n        label=\"Publish Date\"\n        name=\"publishDate\"\n        value={data.publishDate}\n        onChange={handleChange}\n        />\n      <Input\n        label=\"ISBN\"\n        name=\"isbn\"\n        value={data.isbn}\n        onChange={handleChange}\n        />\n      <Authors\n        label=\"Authors\"\n        name=\"authors\"\n        value={data.authors}\n        onAdd={handleAddAuthor}\n        onRemove={handleRemoveAuthor}\n        />\n      <Input\n        label=\"Rating\"\n        name=\"rating\"\n        type=\"number\"\n        value={data.rating}\n        onChange={handleChange}\n        props={{ step: '0.1' }}\n        />\n      <Checkbox\n        label=\"Available?\"\n        name=\"available\"\n        value={data.available}\n        onChange={handleCheckChange}\n        />\n      <Input\n        type=\"submit\"\n        value=\"Save\"\n        />\n    </form>\n  )\n}\n\nexport default EditBook\n"]},"metadata":{},"sourceType":"module"}